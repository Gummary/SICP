---
layout: post
title:  Exercise 5.8
date:   2016-12-02
description: Post on 02 December,2016 by Gummary
categories:
- blog
---

不加限制之前根据代码可得查找的第一个here的值，所以a的内容为3

在标号表中查找值，如果存在值，说明重复了，此时报错即可。

~~~scheme
(define (extract-labels text receive)
  (if (null? text)
      (receive '() '())
      (extract-labels (cdr text)
       (lambda (insts labels)
         (let ((next-inst (car text)))
           (if (symbol? next-inst)
	     (let ((val (assoc next-inst labels)))
	       (if val
		 (error "Repeat label -- ASSEMBLE" next-inst) 
		 (receive insts 
			  (cons 
			    (make-label-entry next-inst insts) 
			    labels)))) 
	     (receive (cons (make-instruction next-inst) 
			    insts) 
		      labels)))))))
~~~

		      